import{r as m,a4 as x,X as y,a9 as _,a7 as d,q as t,a6 as g,ab as $,Z as s,ad as z,ae as b,L as T,aN as I,bs as V,F as j,aa as W,bx as ee,ag as U,ac as O,o as J,k as Q,Y as te,aP as oe,$ as S,cg as ne,c6 as ae,cd as B,a0 as le,a1 as A,w as ie}from"./index.037f850d.js";import{u as H}from"./use-quasar.414eeb3f.js";import{a as G,u as E}from"./quizStore.de5eab0d.js";import{Q as se}from"./QSpace.8ac92afd.js";import{Q as re,a as M,b as ue,c as N}from"./QTabPanels.d3e13bfb.js";import{C as F}from"./ClosePopup.f7b4fda5.js";import{M as de}from"./MultipleChoiceQuestion.96ab4548.js";import{_ as ce,a as me}from"./ImportDataButton.a55bb82b.js";import{_ as D}from"./plugin-vue_export-helper.21dcd24c.js";import{Q as P}from"./QSelect.70047d12.js";import{Q as pe}from"./QForm.e3b755fa.js";import{Q as ve}from"./QuizOverview.a2be5ae6.js";import"./QResizeObserver.b97c3070.js";import"./rtl.ad3ba425.js";import"./touch.9135741d.js";import"./selection.b5503321.js";import"./use-render-cache.3aae9b27.js";import"./QSpinnerDots.6c974946.js";import"./QItem.a6e550b6.js";import"./QList.80fe3cd0.js";import"./QBanner.958da182.js";import"./CustomImage.fa404383.js";import"./QImg.c60a9877.js";/* empty css                                                                           */import"./QBtnToggle.c4c9bb64.js";import"./QBtnGroup.06ca08ed.js";import"./QFile.5371de78.js";import"./format.8ac60962.js";import"./QMarkupTable.c24125e0.js";import"./QLinearProgress.f467e272.js";const fe={name:"EditableMCQ",components:{MultipleChoiceQuestion:de},props:{questionData:{type:Object,required:!0,default:()=>({question:"",answers:[],media:null,type:"single"})},questionNumber:{type:Number,required:!0},showCorrectAnswer:{type:Boolean,required:!1,default:!1}},emits:["update:question","answer-selected"],setup(r,{emit:n}){const i=H(),e=m(!1),u=m(!1),v=m("basic"),l=m(!1),o=m({}),h=()=>{o.value=ce.cloneDeep(r.questionData),e.value=!0},p=()=>{o.value.answers.push({text:"",correct:!1})},w=C=>{o.value.answers.splice(C,1)},c=()=>{if(!o.value.question)return i.notify({color:"negative",message:"Vui l\xF2ng nh\u1EADp n\u1ED9i dung c\xE2u h\u1ECFi"}),!1;if(o.value.answers.length<2)return i.notify({color:"negative",message:"C\u1EA7n c\xF3 \xEDt nh\u1EA5t 2 \u0111\xE1p \xE1n"}),!1;if(!o.value.answers.some(k=>k.correct))return i.notify({color:"negative",message:"C\u1EA7n c\xF3 \xEDt nh\u1EA5t 1 \u0111\xE1p \xE1n \u0111\xFAng"}),!1;const C=o.value.metadata;return!C.bloomTaxonomy||!C.concepts||!C.conceptsDes||!C.answerExplanation?(i.notify({color:"negative",message:"Vui l\xF2ng \u0111i\u1EC1n \u0111\u1EA7y \u0111\u1EE7 th\xF4ng tin metadata"}),!1):!0};return{showEditModal:e,showConfirmDialog:u,activeTab:v,saving:l,editedQuestion:o,openEditModal:h,addAnswer:p,removeAnswer:w,saveChanges:()=>{c()&&(u.value=!0)},confirmSave:async()=>{try{l.value=!0,u.value=!1,n("update:question",o.value),e.value=!1,i.notify({color:"positive",message:"\u0110\xE3 l\u01B0u thay \u0111\u1ED5i th\xE0nh c\xF4ng"})}catch{i.notify({color:"negative",message:"C\xF3 l\u1ED7i x\u1EA3y ra khi l\u01B0u thay \u0111\u1ED5i"})}finally{l.value=!1}}}}},he=["id"],ge={class:"edit-icon-wrapper"},ye={class:"q-gutter-md"},_e={class:"q-gutter-md"},be={class:"q-gutter-md"};function Qe(r,n,i,e,u,v){const l=x("MultipleChoiceQuestion");return y(),_("div",{id:`question-${i.questionNumber}`,class:"editable-mcq-wrapper"},[d("div",ge,[t(g,{flat:"",round:"",dense:"",icon:"edit",size:"sm",onClick:e.openEditModal},null,8,["onClick"])]),t(l,$(r.$props,{onAnswerSelected:n[0]||(n[0]=o=>r.$emit("answer-selected",o))}),null,16),t(O,{modelValue:e.showEditModal,"onUpdate:modelValue":n[9]||(n[9]=o=>e.showEditModal=o),persistent:""},{default:s(()=>[t(z,{class:"edit-modal"},{default:s(()=>[t(b,{class:"row items-center q-pb-none"},{default:s(()=>[n[11]||(n[11]=d("div",{class:"text-h6"},"Ch\u1EC9nh s\u1EEDa c\xE2u h\u1ECFi",-1)),t(se),T(t(g,{icon:"close",flat:"",round:"",dense:""},null,512),[[F]])]),_:1}),t(b,{class:"q-pa-md"},{default:s(()=>[t(re,{modelValue:e.activeTab,"onUpdate:modelValue":n[1]||(n[1]=o=>e.activeTab=o),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:s(()=>[t(M,{name:"basic",label:"Th\xF4ng tin c\u01A1 b\u1EA3n"}),t(M,{name:"answers",label:"\u0110\xE1p \xE1n"}),t(M,{name:"metadata",label:"Metadata"})]),_:1},8,["modelValue"]),t(I),t(ue,{modelValue:e.activeTab,"onUpdate:modelValue":n[8]||(n[8]=o=>e.activeTab=o),animated:""},{default:s(()=>[t(N,{name:"basic"},{default:s(()=>[d("div",ye,[t(V,{modelValue:e.editedQuestion.question,"onUpdate:modelValue":n[2]||(n[2]=o=>e.editedQuestion.question=o),filled:"",type:"textarea",autogrow:"",label:"N\u1ED9i dung c\xE2u h\u1ECFi",rules:[o=>!!o||"Vui l\xF2ng nh\u1EADp n\u1ED9i dung c\xE2u h\u1ECFi"]},null,8,["modelValue","rules"]),t(V,{modelValue:e.editedQuestion.media.type.params.file.path,"onUpdate:modelValue":n[3]||(n[3]=o=>e.editedQuestion.media.type.params.file.path=o),filled:"",type:"textarea",autogrow:"",label:"URL h\xECnh \u1EA3nh (n\u1EBFu c\xF3)"},null,8,["modelValue"])])]),_:1}),t(N,{name:"answers"},{default:s(()=>[d("div",_e,[(y(!0),_(j,null,W(e.editedQuestion.answers,(o,h)=>(y(),_("div",{key:h,class:"row q-gutter-sm"},[t(V,{modelValue:o.text,"onUpdate:modelValue":p=>o.text=p,filled:"",type:"textarea",autogrow:"",class:"col",label:"\u0110\xE1p \xE1n"},null,8,["modelValue","onUpdate:modelValue"]),t(ee,{modelValue:o.correct,"onUpdate:modelValue":p=>o.correct=p,label:"\u0110/A \u0110\xFAng"},null,8,["modelValue","onUpdate:modelValue"]),t(g,{flat:"",round:"",color:"negative",icon:"delete",onClick:p=>e.removeAnswer(h),disable:e.editedQuestion.answers.length<=2},null,8,["onClick","disable"])]))),128)),t(g,{color:"primary",label:"Th\xEAm \u0111\xE1p \xE1n",onClick:e.addAnswer,class:"q-mt-md"},null,8,["onClick"])])]),_:1}),t(N,{name:"metadata"},{default:s(()=>[d("div",be,[t(V,{modelValue:e.editedQuestion.metadata.bloomTaxonomy,"onUpdate:modelValue":n[4]||(n[4]=o=>e.editedQuestion.metadata.bloomTaxonomy=o),filled:"",type:"textarea",autogrow:"",label:"Bloom Taxonomy",rules:[o=>!!o||"Vui l\xF2ng nh\u1EADp Bloom Taxonomy"]},null,8,["modelValue","rules"]),t(V,{modelValue:e.editedQuestion.metadata.concepts,"onUpdate:modelValue":n[5]||(n[5]=o=>e.editedQuestion.metadata.concepts=o),filled:"",type:"textarea",autogrow:"",label:"Concepts",rules:[o=>!!o||"Vui l\xF2ng nh\u1EADp Concepts"]},null,8,["modelValue","rules"]),t(V,{modelValue:e.editedQuestion.metadata.conceptsDes,"onUpdate:modelValue":n[6]||(n[6]=o=>e.editedQuestion.metadata.conceptsDes=o),filled:"",type:"textarea",autogrow:"",label:"Concepts Description",rules:[o=>!!o||"Vui l\xF2ng nh\u1EADp Concepts Description"]},null,8,["modelValue","rules"]),t(V,{modelValue:e.editedQuestion.metadata.answerExplanation,"onUpdate:modelValue":n[7]||(n[7]=o=>e.editedQuestion.metadata.answerExplanation=o),filled:"",type:"textarea",autogrow:"",label:"Gi\u1EA3i th\xEDch \u0111\xE1p \xE1n",rules:[o=>!!o||"Vui l\xF2ng nh\u1EADp gi\u1EA3i th\xEDch \u0111\xE1p \xE1n"]},null,8,["modelValue","rules"])])]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(U,{align:"right",class:"q-pa-md"},{default:s(()=>[T(t(g,{flat:"",label:"H\u1EE7y",color:"negative"},null,512),[[F]]),t(g,{loading:e.saving,label:"L\u01B0u thay \u0111\u1ED5i",color:"primary",onClick:e.saveChanges},null,8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(O,{modelValue:e.showConfirmDialog,"onUpdate:modelValue":n[10]||(n[10]=o=>e.showConfirmDialog=o),persistent:""},{default:s(()=>[t(z,null,{default:s(()=>[t(b,{class:"row items-center"},{default:s(()=>n[12]||(n[12]=[d("span",{class:"q-ml-sm"},"B\u1EA1n c\xF3 ch\u1EAFc ch\u1EAFn mu\u1ED1n l\u01B0u c\xE1c thay \u0111\u1ED5i?",-1)])),_:1}),t(U,{align:"right"},{default:s(()=>[T(t(g,{flat:"",label:"H\u1EE7y",color:"negative"},null,512),[[F]]),t(g,{flat:"",label:"X\xE1c nh\u1EADn",color:"primary",onClick:e.confirmSave},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],8,he)}var we=D(fe,[["render",Qe],["__scopeId","data-v-a8efbbec"]]);const qe={name:"TestFilter",components:{},setup(r,{emit:n}){const i=G();E(),J(async()=>{await i.initializeStore()});const e=m({course:"",level:""}),u=Q(()=>i.courseOptions),v=Q(()=>i.levelOptions),l=c=>{e.value.course=c,i.updateFilter("course",c)},o=c=>{e.value.level=c,i.updateFilter("level",c)},h=()=>{p()},p=async()=>{const c={course:e.value.course,courseCode:i.currentCourseCode,level:e.value.level,levelIndex:i.currentLevelIndex,fullLevelCode:i.currentFullLevelCode};n("load-quiz",c)},w=Q(()=>e.value.course!=null&&e.value.level!=null);return{courseOptions:u,levelOptions:v,quizInfo:e,updateCourseFilter:l,updateLevelFilter:o,isFormValid:w,onSubmit:h,loadQuiz:p}}},Ce={class:"student-test-form"},Ve={class:"col-5"},xe={class:"col-3"},ze={class:"col justify-end"};function De(r,n,i,e,u,v){return y(),_("div",Ce,[t(pe,{onSubmit:e.onSubmit,class:"row q-gutter-x-md"},{default:s(()=>[d("div",Ve,[t(P,{modelValue:e.quizInfo.course,"onUpdate:modelValue":[n[0]||(n[0]=l=>e.quizInfo.course=l),e.updateCourseFilter],options:e.courseOptions,label:"Kh\xF3a h\u1ECDc",rules:[l=>!!l||"Vui l\xF2ng ch\u1ECDn kh\xF3a h\u1ECDc"],outlined:"",dense:""},null,8,["modelValue","options","rules","onUpdate:modelValue"])]),d("div",xe,[t(P,{modelValue:e.quizInfo.level,"onUpdate:modelValue":[n[1]||(n[1]=l=>e.quizInfo.level=l),e.updateLevelFilter],options:e.levelOptions,label:"Level",rules:[l=>!!l||"Vui l\xF2ng ch\u1ECDn level"],outlined:"",dense:""},null,8,["modelValue","options","rules","onUpdate:modelValue"])]),d("div",ze,[t(g,{label:"T\xECm ki\u1EBFm",type:"submit",color:"primary",disable:!e.isFormValid,class:"full-width",unelevated:""},null,8,["disable"])])]),_:1},8,["onSubmit"])])}var Se=D(qe,[["render",De],["__scopeId","data-v-21035e8d"]]);const ke={name:"PublishDocToFireStore",props:{data:{type:Object,required:!0},docPath:{type:String,default:"temp"},writeMode:{type:String,default:"update"}},setup(r,{emit:n}){const i=m(!1),e=m(!1),u=m(JSON.stringify(r.data,null,2)),v=m(r.docPath),l=m(r.writeMode),o=[{label:"Update",value:"update"},{label:"Overwrite",value:"overwrite"}],h=()=>{i.value=!0},p=()=>{i.value=!1};return{modalOpen:i,loading:e,localData:u,localDocPath:v,localWriteMode:l,writeModeOptions:o,openModal:h,closeModal:p,submitData:async()=>{e.value=!0;try{const c=JSON.parse(u.value);l.value==="update"?await ne(v.value,c):await ae(v.value,c),B.create({message:"D\u1EEF li\u1EC7u \u0111\u01B0\u1EE3c c\u1EADp nh\u1EADt th\xE0nh c\xF4ng",color:"green"}),n("publish-doc-success",{docPath:v.value,data:c})}catch(c){B.create({message:`L\u1ED7i: ${c.message}`,color:"red"})}finally{e.value=!1,p()}}}}};function Te(r,n,i,e,u,v){return y(),_("div",null,[t(g,{onClick:e.openModal,label:"Publish Data",icon:"publish",unelevated:"",color:"primary"},null,8,["onClick"]),t(O,{modelValue:e.modalOpen,"onUpdate:modelValue":n[3]||(n[3]=l=>e.modalOpen=l)},{default:s(()=>[t(z,null,{default:s(()=>[t(b,null,{default:s(()=>n[4]||(n[4]=[d("div",{class:"text-h6"},"Publish Data to Firestore",-1)])),_:1}),t(b,null,{default:s(()=>[t(V,{modelValue:e.localData,"onUpdate:modelValue":n[0]||(n[0]=l=>e.localData=l),label:"Data (JSON format)",type:"textarea"},null,8,["modelValue"]),t(V,{modelValue:e.localDocPath,"onUpdate:modelValue":n[1]||(n[1]=l=>e.localDocPath=l),label:"Document Path",placeholder:r.defaultDocPath},null,8,["modelValue","placeholder"]),t(P,{modelValue:e.localWriteMode,"onUpdate:modelValue":n[2]||(n[2]=l=>e.localWriteMode=l),options:e.writeModeOptions,label:"Write Mode",placeholder:r.defaultWriteMode},null,8,["modelValue","options","placeholder"])]),_:1}),t(U,null,{default:s(()=>[t(g,{onClick:e.submitData,label:"Confirm",loading:e.loading},null,8,["onClick","loading"]),t(g,{onClick:e.closeModal,label:"Cancel"},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e.loading?(y(),te(oe,{key:0})):S("",!0)])}var Ae=D(ke,[["render",Te],["__scopeId","data-v-fea9134e"]]);const Me={name:"QuizChangesViewer",props:{questionNumber:{type:Number,default:null}},setup(r){const n=E(),i=Q(()=>{if(!r.questionNumber||!n.formattedQuiz)return"";const u=n.formattedQuiz[r.questionNumber-1];return u?u.content:""}),e=Q(()=>{if(!r.questionNumber||!n.formattedQuiz)return"";const u=n.formattedQuiz[r.questionNumber-1];return u?u.editedContent||u.content:""});return{originalQuestion:i,editedQuestion:e}}},Ne={key:0,class:"changes-viewer"},Fe={class:"text-p q-mb-md"},Ie={class:"column q-gutter-y-md"},Ue={class:"text-body1"},Oe={class:"text-body1"};function Pe(r,n,i,e,u,v){return i.questionNumber?(y(),_("div",Ne,[t(z,{class:"changes-card"},{default:s(()=>[t(b,null,{default:s(()=>[d("div",Fe,[n[0]||(n[0]=le(" Thay \u0111\u1ED5i c\u1EE7a c\xE2u h\u1ECFi ")),d("strong",null,A(i.questionNumber),1)]),d("div",Ie,[t(z,{flat:"",bordered:"",class:"question-card"},{default:s(()=>[t(b,{class:"bg-grey-2"},{default:s(()=>n[1]||(n[1]=[d("div",{class:"text-subtitle1 text-weight-medium"},"C\xE2u h\u1ECFi g\u1ED1c",-1)])),_:1}),t(I),t(b,{class:"q-pa-md"},{default:s(()=>[d("div",Ue,A(e.originalQuestion),1)]),_:1})]),_:1}),t(z,{flat:"",bordered:"",class:"question-card"},{default:s(()=>[t(b,{class:"bg-primary text-white"},{default:s(()=>n[2]||(n[2]=[d("div",{class:"text-subtitle1 text-weight-medium"}," C\xE2u h\u1ECFi \u0111\xE3 ch\u1EC9nh s\u1EEDa ",-1)])),_:1}),t(I),t(b,{class:"q-pa-md"},{default:s(()=>[d("div",Oe,A(e.editedQuestion),1)]),_:1})]),_:1})])]),_:1})]),_:1})])):S("",!0)}var Ee=D(Me,[["render",Pe],["__scopeId","data-v-3898c250"]]);const Le="http://json-schema.org/draft-07/schema#",Be="object",je={id:{type:"string",description:"ID duy nh\u1EA5t c\u1EE7a c\xE2u h\u1ECFi",pattern:"^[a-zA-Z0-9-_]+$"},type:{type:"string",enum:["multiple_choice","true_false","multiple_response","short_answer","matching","sequence","numeric"],description:"Lo\u1EA1i c\xE2u h\u1ECFi"},question:{type:"string",description:"N\u1ED9i dung c\xE2u h\u1ECFi"},image:{type:"string",format:"url",description:"Link h\xECnh \u1EA3nh c\xE2u h\u1ECFi"},options:{type:"array",items:{type:"object",properties:{text:{type:"string",description:"N\u1ED9i dung \u0111\xE1p \xE1n"},isCorrect:{type:"boolean",description:"\u0110\xE1nh d\u1EA5u \u0111\xE1p \xE1n \u0111\xFAng"},match:{type:"string",description:"Cho matching question (gh\xE9p c\u1EB7p)"},order:{type:"integer",description:"Cho sequence question (th\u1EE9 t\u1EF1)"},image:{type:"string",format:"url",description:"Link h\xECnh \u1EA3nh \u0111\xE1p \xE1n"}},required:["text"]}},metadata:{type:"object",properties:{bloomTaxonomy:{type:"string",enum:["remembering","understanding","applying","analyzing","evaluating","creating"],description:"M\u1EE9c \u0111\u1ED9 nh\u1EADn th\u1EE9c theo ph\xE2n lo\u1EA1i Bloom"},concepts:{type:"array",items:{type:"string"},description:"Kh\xE1i ni\u1EC7m ch\xEDnh"},conceptDescription:{type:"string",description:"M\xF4 t\u1EA3 chi ti\u1EBFt kh\xE1i ni\u1EC7m"},timeLimit:{type:"integer",description:"Gi\u1EDBi h\u1EA1n th\u1EDDi gian (gi\xE2y)",minimum:0},difficulty:{type:"string",enum:["easy","medium","hard"],description:"M\u1EE9c \u0111\u1ED9 kh\xF3 c\u1EE7a c\xE2u h\u1ECFi"}}},correctCriteria:{type:"object",properties:{type:{type:"string",enum:["exact","contains","range","regex"],description:"Ki\u1EC3u so s\xE1nh"},value:{oneOf:[{type:"string"},{type:"number"},{type:"array",items:{type:"number"}}],description:"Gi\xE1 tr\u1ECB so s\xE1nh"},tolerance:{type:"number",description:"Sai s\u1ED1 cho numeric",minimum:0}},required:["type","value"]},explanation:{type:"string",description:"Gi\u1EA3i th\xEDch chi ti\u1EBFt c\xE2u tr\u1EA3 l\u1EDDi"}},We=["type","question","options"];var Je={$schema:Le,type:Be,properties:je,required:We};const He={name:"QuizEditorPage",components:{EditableMCQ:we,QuizFilter:Se,ImportDataButton:me,PublishDocToFirestore:Ae,QuizOverview:ve,QuizChangesViewer:Ee},setup(){let r=["Id","Explanation","Bloom Taxonomy","Concepts","Difficulty","Question Type","Question Text","Image","Video","Audio","Answer 1","Answer 2","Answer 3","Answer 4","Answer 5","Answer 6","Answer 7","Answer 8","Answer 9","Answer 10","Correct Feedback","Incorrect Feedback","Points"],n={type:"object",properties:{name:{type:"string"},age:{type:"number"}}};const i=H(),e=E(),u=G(),v=m(null),l=m(null),o=m({}),h=m(null),p=m(!1),w=m({}),c=m(0),q=Q(()=>e.formattedQuiz.map(a=>({...a,selectedAnswer:m(null)})));ie(()=>e.formattedQuiz,a=>{a&&(c.value=a.length)});const L=()=>{p.value=!p.value},C=a=>{l.value=a,console.log(JSON.stringify(l.value));let f={};f.courseCode=l.value.courseCode,f.levelIndex=l.value.levelIndex,f.fullLevelCode=l.value.fullLevelCode,e.updateFilter(f),e.startQuiz(),e.formattedQuiz&&(c.value=e.formattedQuiz.length)},k=Q(()=>q.value.every(a=>o.value&&o.value[a.questionNum]!==null&&o.value[a.questionNum]!==void 0)),R=Q(()=>Object.keys(o.value||{}).length),K=Q(()=>q.value.length),X=a=>{o.value||(o.value={}),o.value[a.questionNum]=a,console.log("Selected answer:",a),console.log("Current Quiz Result:",o.value)},Z=a=>!a.dayOfWeek||!a.startTime||!a.endTime?"":`${a.dayOfWeek} (${a.startTime} - ${a.endTime})`;J(async()=>{await Promise.all([e.initializeStore(),u.initializeStore()])});const Y=Q(()=>q.value.filter(a=>!o.value||o.value[a.questionNum]===null||o.value[a.questionNum]===void 0).map(a=>a.questionNum));return{formattedQuestions:q,studentData:v,quizInfoData:l,loadQuiz:C,formatSchedule:Z,handleAnswer:X,quizStore:e,areAllQuestionsAnswered:k,numAnsweredQuestion:R,numTotalQuestion:K,notAnsweredQuestionList:Y,$q:i,currentQuestion:h,scrollToQuestion:a=>{h.value=a;const f=document.getElementById(`question-${a}`);f&&f.scrollIntoView({behavior:"smooth",block:"center"})},quizResult:o,showAnswers:p,toggleShowAnswers:L,handleQuestionUpdate:a=>{console.log("Question Data received:",a);try{let f=e.createSheetFromH5pQuiz(a);console.log("Converted to Sheet format:",f),e.updateQuizData(a,l.value.fullLevelCode)}catch(f){console.error("Error converting question:",f),i.notify({color:"negative",message:"C\xF3 l\u1ED7i x\u1EA3y ra khi chuy\u1EC3n \u0111\u1ED5i d\u1EEF li\u1EC7u c\xE2u h\u1ECFi",position:"top"})}},myCsvStructure:r,myJsonStructure:n,handleImportComplete:({data:a,dataType:f,config:st})=>{console.log(JSON.stringify(a)),e.updateQuizData(a,l.value.fullLevelCode)},editedQuestions:w,totalQuestions:c,handleQuestionSelect:a=>{h.value=a;const f=document.getElementById(`question-${a}`);f&&f.scrollIntoView({behavior:"smooth",block:"center"}),emit("question-selected",a)},updateEditedQuestion:a=>{w.value[a]={isEdited:!0,timestamp:new Date().getTime()}},generalQuestionSchema:Je}}},Ge={class:"q-pa-xs",ref:"quizResultContent"},Re={class:"quiz-editor-layout q-mt-md"},Ke={class:"changes-viewer-wrapper"},Xe={class:"quiz-content"},Ze={key:0,class:"questions-container"},Ye={key:0,class:"text-center q-mb-md"},$e={class:"row q-gutter-x-md"},et={class:"q-mt-lg"};function tt(r,n,i,e,u,v){const l=x("QuizFilter"),o=x("QuizChangesViewer"),h=x("QuizOverview"),p=x("ImportDataButton"),w=x("PublishDocToFirestore"),c=x("EditableMCQ");return y(),_("div",Ge,[t(l,{onLoadQuiz:e.loadQuiz},null,8,["onLoadQuiz"]),d("div",Re,[d("div",Ke,[t(o,{"question-number":e.currentQuestion},null,8,["question-number"])]),d("div",Xe,[t(h,{"answered-questions":e.editedQuestions,"total-questions":e.totalQuestions,"current-question":e.currentQuestion,"is-edit-mode":!0,"show-submit-button":!1,onQuestionSelected:e.handleQuestionSelect},null,8,["answered-questions","total-questions","current-question","onQuestionSelected"])])]),e.quizInfoData?(y(),_("div",Ze,[e.quizInfoData?(y(),_("div",Ye,[t(g,{label:e.showAnswers?"\u1EA8n \u0110\xE1p \xC1n":"Hi\u1EC7n \u0110\xE1p \xC1n",color:"primary",onClick:e.toggleShowAnswers,icon:e.showAnswers?"visibility_off":"visibility",class:"full-width"},null,8,["label","onClick","icon"]),d("div",$e,[t(p,{onImportComplete:e.handleImportComplete},null,8,["onImportComplete"]),t(w,{data:e.formattedQuestions},null,8,["data"])])])):S("",!0),d("div",et,[(y(!0),_(j,null,W(e.formattedQuestions,q=>(y(),_("div",{key:"orig-"+q.questionNum,class:"q-mb-lg"},[t(c,{questionData:q,questionNumber:q.questionNum,"show-correct-answer":e.showAnswers,"onUpdate:question":e.handleQuestionUpdate,onAnswerSelected:e.handleAnswer},null,8,["questionData","questionNumber","show-correct-answer","onUpdate:question","onAnswerSelected"])]))),128))])])):S("",!0)],512)}var Ot=D(He,[["render",tt],["__scopeId","data-v-48682006"]]);export{Ot as default};
