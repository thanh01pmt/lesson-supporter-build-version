import{r as i,X as r,a9 as y,a7 as m,q as n,Z as v,bs as f,Y as h,$ as k,a6 as p,ad as P,ae as U,a0 as I,a1 as S,ag as j,L as A,ac as B,c6 as K,cn as $,bP as C,bS as X,co as E,cp as Y,cq as F,cr as Z,bR as x,d as z,h as T,k as w,a4 as M}from"./index.037f850d.js";import{Q as O}from"./QSelect.70047d12.js";import{Q as G}from"./QFile.5371de78.js";import{Q as H}from"./QForm.e3b755fa.js";import{C as W}from"./ClosePopup.f7b4fda5.js";import{u as Q}from"./use-quasar.414eeb3f.js";import{_ as N}from"./plugin-vue_export-helper.21dcd24c.js";import"./rtl.ad3ba425.js";import"./QItem.a6e550b6.js";import"./selection.b5503321.js";import"./format.8ac60962.js";const _={name:"LoadDemoData",setup(){const l=Q(),e=i(""),s=i("single"),o=i("file"),u=i(null),d=i(""),a=i(!1),c=i(""),D=i("");return{collectionPath:e,uploadMode:s,importMethod:o,jsonFile:u,jsonContent:d,showResult:a,resultMessage:c,uploadModeOptions:[{label:"Single Document",value:"single"},{label:"Multiple Documents",value:"multiple"}],importMethodOptions:[{label:"Upload File",value:"file"},{label:"Paste JSON",value:"paste"}],handleFileUpload:t=>{if(t){const g=new FileReader;g.onload=J=>{try{d.value=JSON.parse(J.target.result)}catch{l.notify({color:"negative",message:"Invalid JSON file"})}},g.readAsText(t)}},onSubmit:async()=>{try{let t=o.value==="file"?d.value:JSON.parse(d.value);const g=s.value==="single"&&D.value?D.value:void 0;s.value==="single"?await K(e.value,t,g):await $(e.value,t),c.value="Upload successful!",a.value=!0}catch(t){console.error("Upload error:",t),c.value=`Upload failed: ${t.message}`,a.value=!0}},documentName:D}}};function ee(l,e,s,o,u,d){return r(),y("div",null,[e[8]||(e[8]=m("h5",null,"Load Demo Data",-1)),n(H,{onSubmit:o.onSubmit,class:"q-gutter-md"},{default:v(()=>[n(f,{filled:"",modelValue:o.collectionPath,"onUpdate:modelValue":e[0]||(e[0]=a=>o.collectionPath=a),label:"Collection Path",hint:"e.g. users/user123/posts",rules:[a=>!!a||"Path is required"]},null,8,["modelValue","rules"]),n(O,{filled:"",modelValue:o.uploadMode,"onUpdate:modelValue":e[1]||(e[1]=a=>o.uploadMode=a),options:o.uploadModeOptions,label:"Upload Mode","emit-value":"","map-options":""},null,8,["modelValue","options"]),o.uploadMode==="single"?(r(),h(f,{key:0,filled:"",modelValue:o.documentName,"onUpdate:modelValue":e[2]||(e[2]=a=>o.documentName=a),label:"Document Name",hint:"Leave empty for auto-generated name"},null,8,["modelValue"])):k("",!0),n(O,{filled:"",modelValue:o.importMethod,"onUpdate:modelValue":e[3]||(e[3]=a=>o.importMethod=a),options:o.importMethodOptions,label:"Import Method","emit-value":"","map-options":""},null,8,["modelValue","options"]),o.importMethod==="file"?(r(),h(G,{key:1,filled:"",modelValue:o.jsonFile,"onUpdate:modelValue":[e[4]||(e[4]=a=>o.jsonFile=a),o.handleFileUpload],label:"Select JSON File",accept:".json"},null,8,["modelValue","onUpdate:modelValue"])):(r(),h(f,{key:2,filled:"",modelValue:o.jsonContent,"onUpdate:modelValue":e[5]||(e[5]=a=>o.jsonContent=a),type:"textarea",label:"Paste JSON Content"},null,8,["modelValue"])),n(p,{label:"Upload",type:"submit",color:"primary"})]),_:1},8,["onSubmit"]),n(B,{modelValue:o.showResult,"onUpdate:modelValue":e[6]||(e[6]=a=>o.showResult=a)},{default:v(()=>[n(P,null,{default:v(()=>[n(U,null,{default:v(()=>e[7]||(e[7]=[m("div",{class:"text-h6"},"Upload Result",-1)])),_:1}),n(U,{class:"q-pt-none"},{default:v(()=>[I(S(o.resultMessage),1)]),_:1}),n(j,{align:"right"},{default:v(()=>[A(n(p,{flat:"",label:"OK",color:"primary"},null,512),[[W]])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}var le=N(_,[["render",ee]]);const V=z,oe=async(l,e,s)=>{const o=C(V,l,e);await X(o,s)},te=async(l,e)=>{const s=C(V,l,e);await E(s)},ae=l=>{const e=C(V,l);return Y(e)},ne=l=>{const e=F(V,l);return Z(e)},se=async(l,e,s)=>{const o=F(V,l),u=C(o,e);return await x(u,{...s,name:e}),u},ie=T({name:"VueFireTest",setup(){const l=Q(),e=i("testCollection"),s=i(""),o=i("{}"),u=i(null),d=i(null),a=w(()=>{var t;return(t=u.value)==null?void 0:t.value}),c=w(()=>{var t;return(t=d.value)==null?void 0:t.value}),D=async()=>{if(!s.value.trim()){l.notify({type:"negative",message:"Vui l\xF2ng nh\u1EADp t\xEAn t\xE0i li\u1EC7u"});return}try{const t=JSON.parse(o.value),g=await se(e.value,s.value,t);l.notify({type:"positive",message:"T\xE0i li\u1EC7u \u0111\xE3 \u0111\u01B0\u1EE3c th\xEAm th\xE0nh c\xF4ng"}),b()}catch(t){l.notify({type:"negative",message:"L\u1ED7i khi th\xEAm t\xE0i li\u1EC7u: "+t.message})}},q=async()=>{try{const t=JSON.parse(o.value);await oe(e.value,s.value,t),l.notify({type:"positive",message:"T\xE0i li\u1EC7u \u0111\xE3 \u0111\u01B0\u1EE3c c\u1EADp nh\u1EADt th\xE0nh c\xF4ng"}),b()}catch(t){l.notify({type:"negative",message:"L\u1ED7i khi c\u1EADp nh\u1EADt t\xE0i li\u1EC7u: "+t.message})}},R=async()=>{try{await te(e.value,s.value),l.notify({type:"positive",message:"T\xE0i li\u1EC7u \u0111\xE3 \u0111\u01B0\u1EE3c x\xF3a th\xE0nh c\xF4ng"}),u.value=null}catch(t){l.notify({type:"negative",message:"L\u1ED7i khi x\xF3a t\xE0i li\u1EC7u: "+t.message})}},b=()=>{try{const t=`${e.value}/${s.value}`;u.value=ae(t)}catch(t){l.notify({type:"negative",message:"L\u1ED7i khi \u0111\u1ECDc t\xE0i li\u1EC7u: "+t.message})}};return{collectionName:e,docId:s,docData:o,unwrappedReactiveDoc:a,unwrappedReactiveCollection:c,addDocument:D,updateDocument:q,deleteDocument:R,readDocument:b,readAllDocuments:()=>{try{d.value=ne(e.value)}catch(t){l.notify({type:"negative",message:"L\u1ED7i khi \u0111\u1ECDc t\u1EA5t c\u1EA3 t\xE0i li\u1EC7u: "+t.message})}}}}}),ue={key:0,class:"q-mt-md"},de={key:1,class:"q-mt-md"};function re(l,e,s,o,u,d){return r(),y("div",null,[e[5]||(e[5]=m("h5",null,"Ki\u1EC3m tra VueFireService",-1)),n(f,{filled:"",modelValue:l.collectionName,"onUpdate:modelValue":e[0]||(e[0]=a=>l.collectionName=a),label:"T\xEAn collection",class:"q-mb-md"},null,8,["modelValue"]),n(f,{filled:"",modelValue:l.docId,"onUpdate:modelValue":e[1]||(e[1]=a=>l.docId=a),label:"ID t\xE0i li\u1EC7u",class:"q-mb-md"},null,8,["modelValue"]),n(f,{filled:"",modelValue:l.docData,"onUpdate:modelValue":e[2]||(e[2]=a=>l.docData=a),type:"textarea",label:"D\u1EEF li\u1EC7u t\xE0i li\u1EC7u (JSON)",class:"q-mb-md"},null,8,["modelValue"]),n(p,{onClick:l.addDocument,label:"Th\xEAm t\xE0i li\u1EC7u",color:"primary",class:"q-mr-sm"},null,8,["onClick"]),n(p,{onClick:l.updateDocument,label:"C\u1EADp nh\u1EADt t\xE0i li\u1EC7u",color:"secondary",class:"q-mr-sm"},null,8,["onClick"]),n(p,{onClick:l.deleteDocument,label:"X\xF3a t\xE0i li\u1EC7u",color:"negative",class:"q-mr-sm"},null,8,["onClick"]),n(p,{onClick:l.readDocument,label:"\u0110\u1ECDc t\xE0i li\u1EC7u",color:"info",class:"q-mr-sm"},null,8,["onClick"]),n(p,{onClick:l.readAllDocuments,label:"\u0110\u1ECDc t\u1EA5t c\u1EA3 t\xE0i li\u1EC7u",color:"purple"},null,8,["onClick"]),l.unwrappedReactiveDoc?(r(),y("div",ue,[e[3]||(e[3]=m("h4",null,"K\u1EBFt qu\u1EA3 (Document):",-1)),m("pre",null,S(JSON.stringify(l.unwrappedReactiveDoc,null,2)),1)])):k("",!0),l.unwrappedReactiveCollection?(r(),y("div",de,[e[4]||(e[4]=m("h4",null,"K\u1EBFt qu\u1EA3 (Collection):",-1)),m("pre",null,S(JSON.stringify(l.unwrappedReactiveCollection,null,2)),1)])):k("",!0)])}var ce=N(ie,[["render",re]]);const me=T({name:"TestPage",components:{LoadDemoData:le,VueFireTest:ce},data(){return{testData:{}}}}),pe={class:"q-pa-none q-mx-md q-mb-xl"};function ve(l,e,s,o,u,d){const a=M("LoadDemoData"),c=M("VueFireTest");return r(),y("div",pe,[n(a),n(c)])}var Re=N(me,[["render",ve]]);export{Re as default};
