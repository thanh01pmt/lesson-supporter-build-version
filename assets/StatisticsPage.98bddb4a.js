import{Q as _}from"./QSelect.70047d12.js";import{bv as De,aF as Qe,k as C,r as v,o as Ue,x as j,w as Y,X as m,a9 as p,a1 as i,q as e,Z as t,ad as g,ac as Ne,ae as u,a7 as o,bs as L,F as T,aa as x,a5 as Ie,a0 as f,a6 as B,Y as y,$ as O,bt as Le,L as Be}from"./index.037f850d.js";import{Q as Oe,a as X,b as Fe,c as Z}from"./QTabPanels.d3e13bfb.js";import{Q as w,a as S}from"./QTable.3729fe60.js";import{Q as D}from"./rtl.ad3ba425.js";import{Q as G}from"./QSpace.8ac92afd.js";import{Q as H}from"./QTr.671570e6.js";import{Q as k,a as b}from"./QItem.a6e550b6.js";import{Q as W}from"./QList.80fe3cd0.js";import{Q as $}from"./QExpansionItem.da0e08ff.js";import{C as Re}from"./ClosePopup.f7b4fda5.js";import{s as ze}from"./scratch.364a90c2.js";import{C as Ae}from"./auto.01ee0c75.js";import{u as Me}from"./use-quasar.414eeb3f.js";import{_ as Ee}from"./plugin-vue_export-helper.21dcd24c.js";import"./selection.b5503321.js";import"./format.8ac60962.js";import"./QResizeObserver.b97c3070.js";import"./touch.9135741d.js";import"./use-render-cache.3aae9b27.js";import"./QMarkupTable.c24125e0.js";import"./QLinearProgress.f467e272.js";import"./use-fullscreen.e9e81b6d.js";const Ke={setup(){const d=De(),{isLoading:a,error:F,selectedUser:l,startDate:R,endDate:z,selectedCourseId:s,selectedVersion:r,selectedType:P,totalPackages:Q,newPackages:ee,updatedPackages:le,totalActions:te,packageTypes:ae,newPackageDetails:oe,updatedPackageDetails:se,detailedPackages:ne,selectedCourse:A,selectedLevel:M,relationshipRows:ie,courseOptions:de,levelOptions:re}=Qe(d),ce=C(()=>d.userOptions),ue=C(()=>d.typeOptions),me=C(()=>d.versionOptions),ge=C(()=>d.filteredPackages),fe=C(()=>d.sortedNewPackages),pe=C(()=>d.sortedUpdatedPackages);Me();const U=v(!1),N=v([]),h=v([]),ve=[{name:"blockToCode",label:"Block To Code",value:!0},{name:"vi",label:"Ti\u1EBFng Vi\u1EC7t",value:!0},{name:"en",label:"Ti\u1EBFng Anh",value:!0},{name:"category",label:"Danh m\u1EE5c",value:!0}],ke=[{name:"id",label:"ID",field:"id",align:"left"},{name:"blockToCode",label:"Block To Code",field:"blockToCode",align:"left"},{name:"vi",label:"Ti\u1EBFng Vi\u1EC7t",field:"vi",align:"left"},{name:"en",label:"Ti\u1EBFng Anh",field:"en",align:"left"},{name:"category",label:"Danh m\u1EE5c",field:"category",align:"left"}],be=v(["blockToCode","vi","en","category"]),he=[{name:"group",align:"left",label:"Nh\xF3m",field:"group"},{name:"count",align:"right",label:"S\u1ED1 l\u01B0\u1EE3ng",field:"count"}],_e=C(()=>h.value.reduce((n,c)=>n+c.count,0)),V=v(null);let q=null;const Ce=v("new"),we=v({sortBy:"updateTime",descending:!0,page:1,rowsPerPage:10}),Pe=v({sortBy:"version",descending:!0,page:1,rowsPerPage:10}),ye=[{name:"id",align:"left",label:"ID",field:"id",sortable:!0},{name:"type",align:"left",label:"Lo\u1EA1i",field:"type",sortable:!0},{name:"updateByName",align:"left",label:"Ng\u01B0\u1EDDi t\u1EA1o",field:"updateByName",sortable:!0},{name:"updateTime",align:"left",label:"Th\u1EDDi gian",field:n=>new Date(n.updateTime).toLocaleString(),sortable:!0},{name:"docVersion",align:"center",label:"Version",field:"docVersion",sortable:!0},{name:"isQCPass",align:"center",label:"QC",field:n=>n.isQCPass?"\u0110\xE3 duy\u1EC7t":"Ch\u01B0a duy\u1EC7t"},{name:"qcName",align:"left",label:"Ng\u01B0\u1EDDi QC",field:"qcName"},{name:"updateDescription",align:"left",label:"M\xF4 t\u1EA3",field:"updateDescription"}],Se=[{name:"courseId",align:"left",label:"Kh\xF3a h\u1ECDc",field:"courseId",sortable:!0},{name:"docId",align:"left",label:"Document",field:"docId",sortable:!0},{name:"highestVersion",align:"center",label:"Version cao nh\u1EA5t",field:"highestVersion",sortable:!0},{name:"latestVersion",align:"center",label:"Version \u0111\xE3 review",field:"latestVersion",sortable:!0},{name:"timeDiff",align:"right",label:"Th\u1EDDi gian ch\u1EDD review",field:"timeDiff",sortable:!0},{name:"status",align:"center",label:"Tr\u1EA1ng th\xE1i",field:"status"}],Ve=[{name:"name",required:!0,label:"T\xEAn package",align:"left",field:n=>d.getPackageName(n.id),sortable:!0},{name:"version",required:!0,label:"Phi\xEAn b\u1EA3n",align:"left",field:n=>d.getPackageVersion(n.id),sortable:!0},{name:"type",required:!0,label:"Lo\u1EA1i",align:"left",field:"type",sortable:!0},{name:"updateBy",required:!0,label:"Ng\u01B0\u1EDDi c\u1EADp nh\u1EADt",align:"left",field:"updateByName",sortable:!0},{name:"updateTime",required:!0,label:"Th\u1EDDi gian c\u1EADp nh\u1EADt",align:"left",field:"updateTime",format:n=>new Date(n).toLocaleString(),sortable:!0},{name:"updateDescription",required:!0,label:"M\xF4 t\u1EA3 c\u1EADp nh\u1EADt",align:"left",field:"updateDescription"},{name:"qcStatus",required:!0,label:"Tr\u1EA1ng th\xE1i QC",align:"center",field:"isQCPass",format:n=>n===null?"Ch\u01B0a QC":n?"\u0110\u1EA1t":"Kh\xF4ng \u0111\u1EA1t",sortable:!0},{name:"qcName",required:!0,label:"Ng\u01B0\u1EDDi QC",align:"left",field:"qcName",format:n=>n||"Ch\u01B0a c\xF3",sortable:!0},{name:"isLatest",required:!0,label:"Version m\u1EDBi nh\u1EA5t",align:"center",field:"isLatest",format:n=>n?"C\xF3":"Kh\xF4ng",sortable:!0}],E=v(!1),K=v(null),Te=[{name:"lessonCode",align:"left",label:"M\xE3 b\xE0i",field:"lessonCode"},{name:"lessonPlan",align:"center",label:"Lesson Plan",field:"lessonPlan"},{name:"quiz",align:"center",label:"Quiz",field:"quiz"},{name:"lessonSlide",align:"center",label:"Slide",field:"lessonSlide"},{name:"lessonInfo",align:"center",label:"Lesson Info",field:"lessonInfo"}];function xe(n){K.value=n,E.value=!0}function J(){N.value=ze.glossary.map(c=>({id:c.id,blockToCode:c.blockToCode,vi:c.vi.term,en:c.en.term,category:c.vi.category,name:c.vi.term,group:c.vi.group}));const n={};return N.value.forEach(c=>{n[c.group]?n[c.group]++:n[c.group]=1}),h.value=Object.keys(n).map(c=>({group:c,count:n[c]})),U.value=!0,Promise.resolve()}function I(){if(q&&q.destroy(),!V.value){console.warn("Pie chart element not found");return}const n=V.value.getContext("2d");q=new Ae(n,{type:"pie",data:{labels:h.value.map(c=>c.group),datasets:[{data:h.value.map(c=>c.count),backgroundColor:["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF","#FF9F40"]}]},options:{responsive:!0,maintainAspectRatio:!1}})}Ue(async()=>{try{await J(),await d.fetchStatistics(),await d.updateRelationshipTable(),j(()=>{V.value&&h.value.length>0&&I()})}catch(n){console.error("L\u1ED7i khi t\u1EA3i d\u1EEF li\u1EC7u:",n)}}),Y(U,n=>{n&&j(()=>{V.value&&h.value.length>0&&I()})}),Y([A,M],()=>{updateRelationshipTable()});function qe(n){try{return typeof n=="string"?JSON.stringify(JSON.parse(n),null,2):JSON.stringify(n,null,2)}catch{return n}}return{isLoading:a,error:F,selectedUser:l,startDate:R,endDate:z,selectedCourseId:s,selectedVersion:r,selectedType:P,totalPackages:Q,newPackages:ee,updatedPackages:le,totalActions:te,packageTypes:ae,newPackageDetails:oe,updatedPackageDetails:se,detailedPackages:ne,userOptions:ce,typeOptions:ue,versionOptions:me,filteredPackages:ge,sortedNewPackages:fe,sortedUpdatedPackages:pe,fetchStatistics:d.fetchStatistics,fetchPackageDetails:d.fetchPackageDetails,formatTimeDifference:d.formatTimeDifference,getPackageVersion:d.getPackageVersion,updateRelationshipTable:d.updateRelationshipTable,getChipColor:d.getChipColor,getChipIcon:d.getChipIcon,dataLoaded:U,scratchRows:N,groupStatistics:h,toggleableColumns:ve,allColumns:ke,visibleColumns:be,groupColumns:he,totalCount:_e,pieChart:V,chartInstance:q,activeTab:Ce,pagination:we,detailPagination:Pe,packageColumns:ye,packageDetailColumns:Ve,selectedCourse:A,selectedLevel:M,courseOptions:de,levelOptions:re,relationshipRows:ie,relationshipColumns:Te,showDialog:E,selectedPackage:K,showPackageDetails:xe,loadScratchData:J,createPieChart:I,packageStore:d,versionColumns:Se,formatContent:qe}}},Je={class:"q-pa-md"},je={key:0},Ye={key:1},Xe={key:2},Ze={class:"row q-col-gutter-md q-mb-md"},Ge={class:"col-12 col-md-3"},He={class:"col-12 col-md-3"},We={class:"col-12 col-md-3"},$e={class:"col-12 col-md-3"},el={class:"row q-col-gutter-md"},ll={class:"col-12 col-md-3"},tl={class:"text-h4"},al={class:"col-12 col-md-3"},ol={class:"text-h4"},sl={class:"col-12 col-md-3"},nl={class:"text-h4"},il={class:"col-12 col-md-3"},dl={class:"text-h4"},rl={class:"row q-col-gutter-md q-mt-md"},cl={class:"text-subtitle2"},ul={class:"text-h5"},ml={class:"row q-col-gutter-md q-mb-md"},gl={class:"col-12 col-md-3"},fl={class:"row q-col-gutter-md"},pl={class:"col-12 col-md-3"},vl={class:"text-h5"},kl={class:"col-12 col-md-3"},bl={class:"text-h5"},hl={class:"col-12 col-md-3"},_l={class:"text-h5"},Cl={class:"col-12 col-md-3"},wl={class:"text-h5"},Pl={class:"row q-col-gutter-md q-mb-md"},yl={class:"col-12 col-md-4"},Sl={class:"col-12 col-md-4"},Vl={key:0,class:"col"},Tl={class:"text-weight-bold"},xl={class:"q-mt-md"},ql={ref:"pieChart"},Dl={class:"row q-col-gutter-md q-mb-md"},Ql={class:"col-12 col-md-6"},Ul={class:"col-12 col-md-6"},Nl={class:"row q-col-gutter-md"},Il={class:"col-12"},Ll={class:"col-12"},Bl={class:"text-wrap"},Ol={class:"col-12"},Fl={class:"text-weight-bold q-mb-sm"};function Rl(d,a,F,l,R,z){return m(),p("div",Je,[l.packageStore.isLoading?(m(),p("div",je,"\u0110ang t\u1EA3i...")):l.packageStore.error?(m(),p("div",Ye,"\u0110\xE3 x\u1EA3y ra l\u1ED7i: "+i(l.packageStore.error),1)):(m(),p("div",Xe,[e(g,{class:"q-mb-md"},{default:t(()=>[e(u,null,{default:t(()=>[a[18]||(a[18]=o("div",{class:"text-h6"},"Th\u1ED1ng k\xEA Packages (g\xF3c nh\xECn ng\u01B0\u1EDDi x\xE2y d\u1EF1ng)",-1)),o("div",Ze,[o("div",Ge,[e(_,{modelValue:l.packageStore.selectedUser,"onUpdate:modelValue":[a[0]||(a[0]=s=>l.packageStore.selectedUser=s),l.packageStore.fetchStatistics],options:l.packageStore.userOptions,label:"L\u1ECDc theo ng\u01B0\u1EDDi t\u1EA1o","emit-value":"","map-options":""},null,8,["modelValue","options","onUpdate:modelValue"])]),o("div",He,[e(_,{modelValue:l.packageStore.selectedType,"onUpdate:modelValue":[a[1]||(a[1]=s=>l.packageStore.selectedType=s),l.packageStore.fetchStatistics],options:l.packageStore.typeOptions,label:"L\u1ECDc theo lo\u1EA1i","emit-value":"","map-options":""},null,8,["modelValue","options","onUpdate:modelValue"])]),o("div",We,[e(L,{modelValue:l.packageStore.startDate,"onUpdate:modelValue":[a[2]||(a[2]=s=>l.packageStore.startDate=s),l.packageStore.fetchStatistics],type:"date",label:"Ng\xE0y b\u1EAFt \u0111\u1EA7u"},null,8,["modelValue","onUpdate:modelValue"])]),o("div",$e,[e(L,{modelValue:l.packageStore.endDate,"onUpdate:modelValue":[a[3]||(a[3]=s=>l.packageStore.endDate=s),l.packageStore.fetchStatistics],type:"date",label:"Ng\xE0y k\u1EBFt th\xFAc"},null,8,["modelValue","onUpdate:modelValue"])])]),o("div",el,[o("div",ll,[e(g,{class:"bg-primary text-white"},{default:t(()=>[e(u,null,{default:t(()=>[a[14]||(a[14]=o("div",{class:"text-h6"},"T\u1ED5ng s\u1ED1 packages",-1)),o("div",tl,i(l.packageStore.totalPackages),1)]),_:1})]),_:1})]),o("div",al,[e(g,{class:"bg-positive text-white"},{default:t(()=>[e(u,null,{default:t(()=>[a[15]||(a[15]=o("div",{class:"text-h6"},"Packages m\u1EDBi",-1)),o("div",ol,i(l.packageStore.newPackages),1)]),_:1})]),_:1})]),o("div",sl,[e(g,{class:"bg-warning text-white"},{default:t(()=>[e(u,null,{default:t(()=>[a[16]||(a[16]=o("div",{class:"text-h6"},"Packages c\u1EADp nh\u1EADt",-1)),o("div",nl,i(l.packageStore.updatedPackages),1)]),_:1})]),_:1})]),o("div",il,[e(g,{class:"bg-info text-white"},{default:t(()=>[e(u,null,{default:t(()=>[a[17]||(a[17]=o("div",{class:"text-h6"},"T\u1ED5ng h\xE0nh \u0111\u1ED9ng",-1)),o("div",dl,i(l.packageStore.totalActions),1)]),_:1})]),_:1})])]),o("div",rl,[(m(!0),p(T,null,x(l.packageStore.packageTypes,(s,r)=>(m(),p("div",{key:r,class:"col-12 col-md-2"},[e(g,{class:Ie(`bg-${l.packageStore.getStatusColor(r)} text-white`)},{default:t(()=>[e(u,null,{default:t(()=>[o("div",cl,i(r),1),o("div",ul,i(s),1)]),_:2},1024)]),_:2},1032,["class"])]))),128))])]),_:1})]),_:1}),e(g,{class:"q-mt-md"},{default:t(()=>[e(u,null,{default:t(()=>[a[19]||(a[19]=o("div",{class:"text-h6"},"Chi ti\u1EBFt Packages",-1)),e(Oe,{modelValue:l.activeTab,"onUpdate:modelValue":a[4]||(a[4]=s=>l.activeTab=s),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:t(()=>[e(X,{name:"new",label:"Packages m\u1EDBi"}),e(X,{name:"updated",label:"Packages c\u1EADp nh\u1EADt"})]),_:1},8,["modelValue"]),e(Fe,{modelValue:l.activeTab,"onUpdate:modelValue":a[5]||(a[5]=s=>l.activeTab=s),animated:""},{default:t(()=>[e(Z,{name:"new"},{default:t(()=>[e(w,{rows:l.packageStore.sortedNewPackages,columns:l.packageColumns,"row-key":"id",pagination:{rowsPerPage:10}},null,8,["rows","columns"])]),_:1}),e(Z,{name:"updated"},{default:t(()=>[e(w,{rows:l.packageStore.sortedUpdatedPackages,columns:l.packageColumns,"row-key":"id",pagination:{rowsPerPage:10}},null,8,["rows","columns"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(g,{class:"q-mt-md"},{default:t(()=>[e(u,null,{default:t(()=>[a[24]||(a[24]=o("div",{class:"text-h6"},"Th\u1ED1ng k\xEA Version",-1)),o("div",ml,[o("div",gl,[e(_,{modelValue:l.packageStore.selectedVersionCourse,"onUpdate:modelValue":[a[6]||(a[6]=s=>l.packageStore.selectedVersionCourse=s),l.packageStore.updateVersionStatistics],options:l.packageStore.versionCourseOptions,label:"L\u1ECDc theo kh\xF3a h\u1ECDc","emit-value":"","map-options":""},null,8,["modelValue","options","onUpdate:modelValue"])])]),o("div",fl,[o("div",pl,[e(g,{class:"bg-primary text-white"},{default:t(()=>[e(u,null,{default:t(()=>[a[20]||(a[20]=o("div",{class:"text-subtitle2"},"T\u1ED5ng s\u1ED1 documents",-1)),o("div",vl,i(l.packageStore.versionStatistics.totalDocs),1)]),_:1})]),_:1})]),o("div",kl,[e(g,{class:"bg-positive text-white"},{default:t(()=>[e(u,null,{default:t(()=>[a[21]||(a[21]=o("div",{class:"text-subtitle2"},"\u0110\xE3 review",-1)),o("div",bl,i(l.packageStore.versionStatistics.reviewedDocs),1)]),_:1})]),_:1})]),o("div",hl,[e(g,{class:"bg-warning text-white"},{default:t(()=>[e(u,null,{default:t(()=>[a[22]||(a[22]=o("div",{class:"text-subtitle2"},"C\u1EA7n c\u1EADp nh\u1EADt",-1)),o("div",_l,i(l.packageStore.versionStatistics.needsUpdate),1)]),_:1})]),_:1})]),o("div",Cl,[e(g,{class:"bg-negative text-white"},{default:t(()=>[e(u,null,{default:t(()=>[a[23]||(a[23]=o("div",{class:"text-subtitle2"},"Ch\u01B0a review",-1)),o("div",wl,i(l.packageStore.versionStatistics.unreviewed),1)]),_:1})]),_:1})])]),e(w,{rows:l.packageStore.versionStatistics.details,columns:l.versionColumns,"row-key":"docId",pagination:{rowsPerPage:10}},{"body-cell-status":t(s=>[e(S,{props:s},{default:t(()=>[e(D,{color:l.packageStore.getStatusColor(s.row.status),"text-color":"white",small:""},{default:t(()=>[f(i(s.row.status),1)]),_:2},1032,["color"])]),_:2},1032,["props"])]),_:1},8,["rows","columns"])]),_:1})]),_:1}),e(g,{class:"q-mt-md"},{default:t(()=>[e(u,null,{default:t(()=>[a[26]||(a[26]=o("div",{class:"text-h6"},"Th\u1ED1ng k\xEA chi ti\u1EBFt package (g\xF3c nh\xECn document)",-1)),o("div",Pl,[o("div",yl,[e(L,{modelValue:l.selectedCourseId,"onUpdate:modelValue":a[7]||(a[7]=s=>l.selectedCourseId=s),label:"M\xE3 kh\xF3a h\u1ECDc-h\u1ECDc ph\u1EA7n-Bu\u1ED5i"},null,8,["modelValue"])]),o("div",Sl,[e(_,{modelValue:l.selectedVersion,"onUpdate:modelValue":a[8]||(a[8]=s=>l.selectedVersion=s),options:l.versionOptions,label:"Phi\xEAn b\u1EA3n","emit-value":"","map-options":""},null,8,["modelValue","options"])])]),e(B,{color:"primary",onClick:l.fetchPackageDetails,class:"q-mt-sm"},{default:t(()=>a[25]||(a[25]=[f("T\xECm ki\u1EBFm")])),_:1},8,["onClick"])]),_:1}),l.detailedPackages.length?(m(),y(u,{key:0},{default:t(()=>[e(w,{rows:l.detailedPackages,columns:l.packageDetailColumns,"row-key":"version",pagination:l.detailPagination},{"body-cell-qcStatus":t(s=>[e(S,{props:s},{default:t(()=>[e(D,{color:s.value===null?"grey":s.value?"positive":"negative","text-color":"white",size:"sm"},{default:t(()=>[f(i(s.value===null?"Ch\u01B0a QC":s.value?"\u0110\u1EA1t":"Kh\xF4ng \u0111\u1EA1t"),1)]),_:2},1032,["color"])]),_:2},1032,["props"])]),"body-cell-isLatest":t(s=>[e(S,{props:s},{default:t(()=>[e(D,{color:s.value?"primary":"warning","text-color":"white",size:"sm"},{default:t(()=>[f(i(s.value?"M\u1EDBi nh\u1EA5t":"C\u0169"),1)]),_:2},1032,["color"])]),_:2},1032,["props"])]),_:1},8,["rows","columns","pagination"])]),_:1})):O("",!0)]),_:1}),e(g,{class:"q-mt-xl"},{default:t(()=>[e(u,null,{default:t(()=>[a[28]||(a[28]=o("div",{class:"text-h6"},"Th\u1ED1ng k\xEA Scratch",-1)),e(w,{flat:"",bordered:"",title:"Th\xF4ng tin Scratch",rows:l.scratchRows,columns:l.allColumns,"visible-columns":l.visibleColumns,"row-key":"id"},{top:t(s=>[a[27]||(a[27]=o("div",{class:"col-2 q-table__title"},"Th\xF4ng tin Scratch",-1)),e(G),d.$q.screen.gt.xs?(m(),p("div",Vl,[(m(!0),p(T,null,x(l.toggleableColumns,r=>(m(),y(Le,{key:r.name,modelValue:l.visibleColumns,"onUpdate:modelValue":a[9]||(a[9]=P=>l.visibleColumns=P),val:r.name,label:r.label},null,8,["modelValue","val","label"]))),128))])):(m(),y(_,{key:1,modelValue:l.visibleColumns,"onUpdate:modelValue":a[10]||(a[10]=r=>l.visibleColumns=r),multiple:"",borderless:"",dense:"","options-dense":"","display-value":d.$q.lang.table.columns,"emit-value":"","map-options":"",options:l.toggleableColumns,"option-value":"name",style:{"min-width":"150px"}},null,8,["modelValue","display-value","options"])),e(B,{flat:"",round:"",dense:"",icon:s.inFullscreen?"fullscreen_exit":"fullscreen",onClick:s.toggleFullscreen,class:"q-ml-md"},null,8,["icon","onClick"])]),_:1},8,["rows","columns","visible-columns"]),e(w,{flat:"",bordered:"",title:"Th\u1ED1ng k\xEA nh\xF3m",rows:l.groupStatistics,columns:l.groupColumns,"row-key":"group"},{"bottom-row":t(()=>[e(H,null,{default:t(()=>[e(S,{colspan:"100%"},{default:t(()=>[o("div",Tl,"T\u1ED5ng s\u1ED1: "+i(l.totalCount),1)]),_:1})]),_:1})]),_:1},8,["rows","columns"]),o("div",xl,[o("canvas",ql,null,512)])]),_:1})]),_:1}),e(g,{class:"q-mt-xl"},{default:t(()=>[e(u,null,{default:t(()=>[a[29]||(a[29]=o("div",{class:"text-h6"},"Th\u1ED1ng k\xEA Relationship",-1)),o("div",Dl,[o("div",Ql,[e(_,{modelValue:l.selectedCourse,"onUpdate:modelValue":[a[11]||(a[11]=s=>l.selectedCourse=s),l.updateRelationshipTable],options:l.courseOptions,label:"Kh\xF3a h\u1ECDc","emit-value":"","map-options":""},null,8,["modelValue","options","onUpdate:modelValue"])]),o("div",Ul,[e(_,{modelValue:l.selectedLevel,"onUpdate:modelValue":[a[12]||(a[12]=s=>l.selectedLevel=s),l.updateRelationshipTable],options:l.levelOptions,label:"C\u1EA5p \u0111\u1ED9","emit-value":"","map-options":""},null,8,["modelValue","options","onUpdate:modelValue"])])]),e(w,{rows:l.relationshipRows,columns:l.relationshipColumns,"row-key":"lessonCode"},{body:t(s=>[e(H,{props:s},{default:t(()=>[e(S,{key:"lessonCode",props:s},{default:t(()=>[f(i(s.row.lessonCode),1)]),_:2},1032,["props"]),(m(),p(T,null,x(["lessonPlan","quiz","lessonSlide","lessonInfo"],r=>e(S,{key:r,props:s},{default:t(()=>[s.row[r]?(m(),y(D,{key:0,color:l.getChipColor(r),"text-color":"white",icon:l.getChipIcon(r),onClick:P=>l.showPackageDetails(s.row[r]),clickable:""},{default:t(()=>[f(i(r),1)]),_:2},1032,["color","icon","onClick"])):O("",!0)]),_:2},1032,["props"])),64))]),_:2},1032,["props"])]),_:1},8,["rows","columns"])]),_:1})]),_:1}),e(Ne,{modelValue:l.showDialog,"onUpdate:modelValue":a[13]||(a[13]=s=>l.showDialog=s)},{default:t(()=>[e(g,{style:{"min-width":"600px"}},{default:t(()=>[e(u,{class:"row items-center"},{default:t(()=>[a[30]||(a[30]=o("div",{class:"text-h6"},"Package Details",-1)),e(G),Be(e(B,{icon:"close",flat:"",round:"",dense:""},null,512),[[Re]])]),_:1}),l.selectedPackage?(m(),y(u,{key:0,class:"q-pt-none"},{default:t(()=>[o("div",Nl,[o("div",Il,[e(W,{dense:""},{default:t(()=>[e(k,null,{default:t(()=>[e(b,null,{default:t(()=>[o("div",null,[a[31]||(a[31]=o("strong",null,"ID:",-1)),f(" "+i(l.selectedPackage.id),1)])]),_:1})]),_:1}),e(k,null,{default:t(()=>[e(b,null,{default:t(()=>[o("div",null,[a[32]||(a[32]=o("strong",null,"Type:",-1)),f(" "+i(l.selectedPackage.type),1)])]),_:1})]),_:1}),e(k,null,{default:t(()=>[e(b,null,{default:t(()=>[o("div",null,[a[33]||(a[33]=o("strong",null,"Version:",-1)),f(" "+i(l.selectedPackage.docVersion),1)])]),_:1})]),_:1}),e(k,null,{default:t(()=>[e(b,null,{default:t(()=>[o("div",null,[a[34]||(a[34]=o("strong",null,"Is Latest:",-1)),f(" "+i(l.selectedPackage.isLatest?"Yes":"No"),1)])]),_:1})]),_:1}),e(k,null,{default:t(()=>[e(b,null,{default:t(()=>[o("div",null,[a[35]||(a[35]=o("strong",null,"QC Status:",-1)),f(" "+i(l.selectedPackage.isQCPass?"Passed":"Not Passed"),1)])]),_:1})]),_:1}),e(k,null,{default:t(()=>[e(b,null,{default:t(()=>[o("div",null,[a[36]||(a[36]=o("strong",null,"Update Time:",-1)),f(" "+i(new Date(l.selectedPackage.updateTime).toLocaleString()),1)])]),_:1})]),_:1}),e(k,null,{default:t(()=>[e(b,null,{default:t(()=>[o("div",null,[a[37]||(a[37]=o("strong",null,"Updated By:",-1)),f(" "+i(l.selectedPackage.updateByName),1)])]),_:1})]),_:1}),e(k,null,{default:t(()=>[e(b,null,{default:t(()=>[o("div",null,[a[38]||(a[38]=o("strong",null,"QC By:",-1)),f(" "+i(l.selectedPackage.qcName),1)])]),_:1})]),_:1}),e(k,null,{default:t(()=>[e(b,null,{default:t(()=>[o("div",null,[a[39]||(a[39]=o("strong",null,"Update Description:",-1)),f(" "+i(l.selectedPackage.updateDescription),1)])]),_:1})]),_:1})]),_:1})]),o("div",Ll,[e($,{label:"Package Content","header-class":"text-primary"},{default:t(()=>[e(g,null,{default:t(()=>[e(u,null,{default:t(()=>[o("pre",Bl,i(l.formatContent(l.selectedPackage.data)),1)]),_:1})]),_:1})]),_:1})]),o("div",Ol,[e($,{label:"Related Packages","header-class":"text-primary"},{default:t(()=>[e(g,null,{default:t(()=>[e(u,null,{default:t(()=>[(m(!0),p(T,null,x(l.selectedPackage.relatePackages,(s,r)=>(m(),p("div",{key:r},[o("div",Fl,i(r)+":",1),e(W,{dense:""},{default:t(()=>[(m(!0),p(T,null,x(s,(P,Q)=>(m(),y(k,{key:Q},{default:t(()=>[e(b,null,{default:t(()=>[f(i(P),1)]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)]))),128))]),_:1})]),_:1})]),_:1})])])]),_:1})):O("",!0)]),_:1})]),_:1},8,["modelValue"])]))])}var rt=Ee(Ke,[["render",Rl],["__scopeId","data-v-7c817b40"]]);export{rt as default};
