import{r as c,o as A,a4 as w,X as d,a9 as p,F as N,aa as L,q as t,k as T,Y as q,Z as v,a7 as l,bs as g,$ as _,a0 as I,a1 as x,bv as B,aF as R,a6 as C,ad as G}from"./index.037f850d.js";import{u as E}from"./use-quasar.414eeb3f.js";import{u as H,a as V}from"./quizStore.de5eab0d.js";import{G as F}from"./GeneralQuestion.6755875f.js";/* empty css                                                                */import{_ as S}from"./plugin-vue_export-helper.21dcd24c.js";import{Q as z}from"./QSelect.70047d12.js";import{Q as O}from"./QExpansionItem.da0e08ff.js";import{Q as K}from"./rtl.ad3ba425.js";import{Q as j}from"./QForm.e3b755fa.js";import{N as M}from"./NumberCard.81fed6eb.js";import"./QBanner.958da182.js";import"./CustomImage.fa404383.js";import"./QSpinnerDots.6c974946.js";import"./QImg.c60a9877.js";import"./QItem.a6e550b6.js";import"./QList.80fe3cd0.js";import"./NumericQuestion.d7b59b0a.js";import"./selection.b5503321.js";import"./format.8ac60962.js";const Y={name:"QuizPreview",props:{questions:{type:Object,required:!0},showCorrectAnswer:{type:Boolean,default:!1},showFeedback:{type:Boolean,default:!1}},components:{GeneralQuestion:F},setup(){const r=E(),o=H(),a=V(),e=c({}),y=c(null),f=i=>{e.value||(e.value={}),e.value[i.questionNum]=i};return A(async()=>{await Promise.all([o.initializeStore(),a.initializeStore()])}),{handleAnswer:f,currentQuestion:y,quizResult:e,$q:r}}},U={class:"q-mt-lg"};function W(r,o,a,e,y,f){const i=w("GeneralQuestion");return d(),p("div",U,[(d(!0),p(N,null,L(a.questions,(m,b)=>(d(),p("div",{key:"ques-"+b,class:"q-mb-lg"},[t(i,{questionData:m,questionNumber:b+1,showCorrectAnswer:a.showCorrectAnswer,showFeedback:a.showFeedback,onAnswerSelected:e.handleAnswer},null,8,["questionData","questionNumber","showCorrectAnswer","showFeedback","onAnswerSelected"])]))),128))])}var J=S(Y,[["render",W],["__scopeId","data-v-8c2735cc"]]);const X={components:{NumberCard:M},props:{quizInfo:{type:Object,required:!0},statistics:{type:Boolean,default:!1}},setup(r){const o=c(null);A(()=>{o.value={questionCount:r.quizInfo.questionCount,questionCountBy:r.quizInfo.questionCountBy}});const a=c([{label:"TEKY",value:"TEKY"}]),e=c([{label:"UARO",value:"uaro"},{label:"MAKER EMPIRE",value:"maker_empire"},{label:"SCRATCH .JR",value:"scratch_jr"},{label:"KITTEN .JR",value:"kitten_jr"},{label:"SCRATCH",value:"scratch"},{label:"CODE KITTEN",value:"code_kitten"},{label:"TYNKER",value:"tynker"},{label:"MAKECODE",value:"makecode"},{label:"PICTOBLOX",value:"pictoblox"},{label:"WHALESBOT",value:"whalesbot"},{label:"LEGO SPIKE PRIME",value:"spike_prime"},{label:"LEGO SPIKE ESSENTIAL",value:"spike_essential"},{label:"LEGO WEDO 2.0",value:"wedo_2"},{label:"LEGO MINDSTORMS EV3",value:"mindstorms_ev3"},{label:"MICROBIT",value:"microbit"},{label:"ARDUINO",value:"arduino"},{label:"RASPBERRY PI PICO",value:"pi_pico"},{label:"PYTHON",value:"python"},{label:"JAVASCRIPT",value:"javascript"},{label:"LUA",value:"lua"},{label:"ROBLOX",value:"roblox"},{label:"UNITY",value:"unity"},{label:"PHOTOSHOP",value:"photoshop"},{label:"GIMP",value:"gimp"},{label:"ILLUSTRATOR",value:"illustrator"},{label:"INKSCAPE",value:"inkscape"},{label:"CANVA",value:"canva"},{label:"PREMIERE",value:"premiere"}]),y=c([{label:"Activity Quiz",value:"activityQuiz"},{label:"Lesson Quiz",value:"lessonQuiz"},{label:"Level Quiz",value:"levelQuiz"},{label:"Semester Quiz",value:"semesterQuiz"}]),f=c([{label:"M\u1EA7m Non C\xF4ng Ngh\u1EC7",value:"MNCN"},{label:"B\xE9 L\xE0m Game",value:"BLG"},{label:"B\xE9 L\xE0m Game AI",value:"BLG_AI"},{label:"Kh\xE1m Ph\xE1 Robotics",value:"KPRB"},{label:"Ph\xE1m Ph\xE1 Robotics Spike",value:"KPRB_SPIKE"},{label:"Ph\xE1m Ph\xE1 Robotics AI",value:"KPRB_AI"},{label:"Digi-STEM Art",value:"DIGIART"},{label:"DigiStyle-Multimedia",value:"DIGISTYLE"},{label:"Si\xEAu Nh\xE2n L\u1EADp Tr\xECnh App",value:"SNLTA"},{label:"Si\xEAu Nh\xE2n L\u1EADp Tr\xECnh Web",value:"SNLTW"},{label:"Si\xEAu Nh\xE2n L\xE0m Game",value:"SNLG"},{label:"Th\u1EBF Gi\u1EDBi V\u1EA1n V\u1EADt Th\xF4ng Minh IoT",value:"TGVVTM"},{label:"C\xF4ng Ngh\u1EC7 L\u1EADp Tr\xECnh App",value:"CNLTA"},{label:"C\xF4ng Ngh\u1EC7 L\u1EADp Tr\xECnh Web",value:"CNLTW"},{label:"C\xF4ng Ngh\u1EC7 Game",value:"CNG"},{label:"C\xF4ng Ngh\u1EC7 IoT ",value:"CNIOT"},{label:"Thi\u1EBFt K\u1EBF Truy\u1EC1n Th\xF4ng",value:"TKTT"}]),i=c([{label:"H\u1ECDc ph\u1EA7n 1",value:"HP1"},{label:"H\u1ECDc ph\u1EA7n 2",value:"HP2"},{label:"H\u1ECDc ph\u1EA7n 3",value:"HP3"},{label:"H\u1ECDc ph\u1EA7n 4",value:"HP4"},{label:"H\u1ECDc ph\u1EA7n 5",value:"HP5"},{label:"H\u1ECDc ph\u1EA7n 6",value:"HP6"},{label:"H\u1ECDc ph\u1EA7n 7",value:"HP7"},{label:"H\u1ECDc ph\u1EA7n 8",value:"HP8"},{label:"H\u1ECDc ph\u1EA7n 9",value:"HP9"},{label:"H\u1ECDc ph\u1EA7n 10",value:"HP10"},{label:"H\u1ECDc ph\u1EA7n 11",value:"HP11"},{label:"H\u1ECDc ph\u1EA7n 12",value:"HP12"}]),m=c([{name:"bloomTaxonomy",chartType:"number"},{name:"difficulty",chartType:"number"},{name:"glossary",chartType:"donut"}]),b=T(()=>{const s=r.quizInfo.type;return s==="activityQuiz"?{minDuration:5,maxDuration:60,minQuestion:3,maxQuestion:10}:s==="lessonQuiz"?{minDuration:10,maxDuration:90,minQuestion:5,maxQuestion:20}:s==="levelQuiz"?{minDuration:20,maxDuration:120,minQuestion:10,maxQuestion:30}:s==="semesterQuiz"?{minDuration:30,maxDuration:180,minQuestion:20,maxQuestion:50}:{}}),h=T(()=>{var n,u;const s=(u=(n=r.quizInfo)==null?void 0:n.questionCountBy)==null?void 0:u.difficulty;return s?{chartData:Object.values(s),options:{labels:Object.keys(s)},type:"difficulty"}:null}),D=T(()=>{var n,u;const s=(u=(n=r.quizInfo)==null?void 0:n.questionCountBy)==null?void 0:u.glossary;return s?{chartData:Object.values(s),options:{labels:Object.keys(s)},type:"glossary"}:null}),Q=T(()=>{var n,u;const s=(u=(n=r.quizInfo)==null?void 0:n.questionCountBy)==null?void 0:u.bloomTaxonomy;return s?{chartData:Object.values(s),options:{labels:Object.keys(s)},type:"bloomTaxonomy"}:null}),k=T(()=>{var n,u;const s=(u=(n=r.quizInfo)==null?void 0:n.questionCountBy)==null?void 0:u.questionType;return s?{chartData:Object.values(s),options:{labels:Object.keys(s)},type:"questionType"}:null});return{quizTypeOptions:y,categoryOptions:e,courseOptions:f,levelOptions:i,statisticsFields:m,quizTypeConfig:b,schoolOptions:a,statisticsData:o,difficultyData:h,glossaryData:D,bloomTaxonomyData:Q,questionTypeData:k}}},Z={class:"row q-col-gutter-md"},$={class:"col-12 q-mb-sm"},ee={class:"row col-12 q-mb-sm q-gutter-x-sm"},le={class:"col"},oe={class:"col"},ae={class:"row col-12 q-mb-sm q-gutter-x-sm"},te={class:"col"},ne={key:0,class:"col"},se={class:"row col-12 q-mb-sm q-gutter-x-sm"},ie={class:"col"},ue={class:"row col-12 q-mb-sm q-gutter-x-sm"},ce={class:"col"},re={class:"col"},de={class:"col"},me={class:"col-12"},ve={class:"col-12 q-mt-md"},be={class:"q-mt-sm q-gutter-sm"},he={class:"col-12 q-mt-md"},fe={class:"q-pb-sm"},ye={class:"q-pb-sm"},pe={class:"q-pb-sm"};function _e(r,o,a,e,y,f){const i=w("q-label"),m=w("NumberCard");return d(),q(j,{class:"q-pa-md"},{default:v(()=>[l("div",Z,[t(O,{icon:"info",label:"Quiz Basic Info",class:"col-12","default-opened":""},{default:v(()=>[l("div",$,[t(g,{filled:"","model-value":a.quizInfo.title,label:"Quiz Title",readonly:""},null,8,["model-value"])]),l("div",ee,[l("div",le,[t(z,{filled:"","model-value":a.quizInfo.school,options:e.schoolOptions,label:"School","emit-value":"","map-options":"",readonly:""},null,8,["model-value","options"])]),l("div",oe,[t(z,{filled:"","model-value":a.quizInfo.course,options:e.courseOptions,label:"Course","emit-value":"","map-options":"",readonly:""},null,8,["model-value","options"])])]),l("div",ae,[l("div",te,[t(z,{filled:"","model-value":a.quizInfo.level,options:e.levelOptions,label:"Level","emit-value":"","map-options":"",readonly:""},null,8,["model-value","options"])]),a.quizInfo.type==="lessonQuiz"||a.quizInfo.type==="activityQuiz"?(d(),p("div",ne,[t(z,{filled:"","model-value":a.quizInfo.lesson,options:r.lessonOptions,label:"Lesson","emit-value":"","map-options":"",readonly:""},null,8,["model-value","options"])])):_("",!0)]),l("div",se,[l("div",ie,[t(g,{filled:"","model-value":a.quizInfo.id,label:"Quiz ID",readonly:""},null,8,["model-value"])])]),l("div",ue,[l("div",ce,[t(z,{filled:"","model-value":a.quizInfo.category,options:e.categoryOptions,label:"Quiz Category","emit-value":"","map-options":"",readonly:""},null,8,["model-value","options"])]),l("div",re,[t(z,{filled:"","model-value":a.quizInfo.type,options:e.quizTypeOptions,label:"Quiz Type","emit-value":"","map-options":"",readonly:""},null,8,["model-value","options"])]),l("div",de,[t(g,{filled:"","model-value":a.quizInfo.duration,label:"Quiz Duration",type:"number",readonly:""},null,8,["model-value"])])]),l("div",me,[t(g,{filled:"","model-value":a.quizInfo.description,type:"textarea",label:"Quiz Description",readonly:""},null,8,["model-value"])])]),_:1}),t(O,{icon:"apps",label:"Quiz Glossary",class:"col-12","default-opened":""},{default:v(()=>[l("div",ve,[l("div",be,[(d(!0),p(N,null,L(a.quizInfo.glossaries,b=>(d(),q(K,{key:b},{default:v(()=>[I(x(b),1)]),_:2},1024))),128))])])]),_:1}),a.statistics?(d(),q(O,{key:0,icon:"bar_chart",label:"Quiz Statistics",class:"col-12","default-opened":""},{default:v(()=>[l("div",he,[l("div",fe,[t(i,null,{default:v(()=>o[0]||(o[0]=[I(" Difficulty ")])),_:1}),e.difficultyData?(d(),q(m,{key:0,type:e.difficultyData.type,options:e.difficultyData.options,chartData:e.difficultyData.chartData},null,8,["type","options","chartData"])):_("",!0)]),l("div",ye,[t(i,null,{default:v(()=>o[1]||(o[1]=[I(" Bloom Taxonomy ")])),_:1}),e.bloomTaxonomyData?(d(),q(m,{key:0,type:e.bloomTaxonomyData.type,options:e.bloomTaxonomyData.options,chartData:e.bloomTaxonomyData.chartData},null,8,["type","options","chartData"])):_("",!0)]),l("div",pe,[t(i,null,{default:v(()=>o[2]||(o[2]=[I(" Question Type ")])),_:1}),e.questionTypeData?(d(),q(m,{key:0,type:e.questionTypeData.type,options:e.questionTypeData.options,chartData:e.questionTypeData.chartData},null,8,["type","options","chartData"])):_("",!0)])])]),_:1})):_("",!0)])]),_:1})}var qe=S(X,[["render",_e]]);const ze={name:"QuizPreviewPage",props:{standAlone:{type:Boolean,default:!0}},components:{QuizPreview:J,QuizInfoView:qe},setup(r){const o=H(),a=B(),{currentPackage:e}=R(a),y=c(""),f=c({}),i=c([]),m=E(),b=c(!1),h=c(!1),D=c(!1);A(()=>{k()});function Q(n){if(!n)return null;const{questions:u,...P}=n;return P.school||(P.school="TEKY"),P}const k=async()=>{try{const n=e.value.data;i.value=Object.values(n.questions),f.value=Q(n),console.log(i.value)}catch(n){console.error("L\u1ED7i khi t\u1EA3i b\xE0i ki\u1EC3m tra:",n),m.notify({type:"negative",message:"L\u1ED7i khi t\u1EA3i b\xE0i ki\u1EC3m tra. Vui l\xF2ng th\u1EED l\u1EA1i."})}};return{quizId:y,quizInfo:f,questions:i,loadQuiz:k,fetchQuiz:async()=>{try{const u=(await o.fetchQuizById(y.value)).data;i.value=Object.values(u.questions),f.value=Q(u),console.log(i.value)}catch(n){console.error("L\u1ED7i khi t\u1EA3i b\xE0i ki\u1EC3m tra:",n),m.notify({type:"negative",message:"L\u1ED7i khi t\u1EA3i b\xE0i ki\u1EC3m tra. Vui l\xF2ng th\u1EED l\u1EA1i."})}},createQuizInfo:Q,showCorrectAnswer:b,showFeedback:h,showQuizInfoPanel:D}}},Ie={class:"q-pa-md"},we={class:"row col-12"},Qe={class:"col"},Te={class:"col question-card q-pa-md q-mb-lg"},ge={key:0,class:"row q-mb-md"},ke={class:"col-12"},Ce={class:"row"},De={class:"q-mr-sm col"},Pe={class:"q-mr-sm col"},Oe={class:"col"},Ae={class:"col"},Se={key:0,class:"col-4 q-ml-lg"},Ne={class:"row q-ml-md"};function Le(r,o,a,e,y,f){const i=w("QuizPreview"),m=w("q-label"),b=w("QuizInfoView");return d(),p("div",Ie,[l("div",we,[l("div",Qe,[l("div",Te,[a.standAlone?(d(),p("div",ge,[l("div",ke,[t(g,{outlined:"",modelValue:e.quizId,"onUpdate:modelValue":o[0]||(o[0]=h=>e.quizId=h),label:"Quiz ID",hint:"Nh\u1EADp m\xE3 b\xE0i ki\u1EC3m tra",rules:[h=>h&&h.length>0||"Vui l\xF2ng nh\u1EADp Quiz ID"]},{hint:v(()=>o[4]||(o[4]=[I(" Input Quiz Id ")])),append:v(()=>[t(C,{color:"primary",onClick:e.fetchQuiz,disable:!e.quizId,unelevated:"",icon:"download",class:"q-ma-none",rounded:""},null,8,["onClick","disable"])]),_:1},8,["modelValue","rules"])])])):_("",!0),l("div",Ce,[l("div",De,[t(C,{color:e.showFeedback?"secondary":"primary",label:e.showFeedback?"Hide Feedback":"Show Feedback",onClick:o[1]||(o[1]=h=>e.showFeedback=!e.showFeedback),disable:e.questions.length==0,unelevated:"",class:"full-width"},null,8,["color","label","disable"])]),l("div",Pe,[t(C,{color:e.showCorrectAnswer?"secondary":"primary",label:e.showCorrectAnswer?"Hide Correct Answer":"Show Correct Answer",onClick:o[2]||(o[2]=h=>e.showCorrectAnswer=!e.showCorrectAnswer),disable:e.questions.length==0,unelevated:"",class:"full-width"},null,8,["color","label","disable"])]),l("div",Oe,[t(C,{color:e.showQuizInfoPanel?"secondary":"primary",label:e.showQuizInfoPanel?"Hide Quiz Info":"Show Quiz Info",onClick:o[3]||(o[3]=h=>e.showQuizInfoPanel=!e.showQuizInfoPanel),disable:Object.keys(e.quizInfo).length==0,unelevated:"",class:"full-width"},null,8,["color","label","disable"])])])]),l("div",Ae,[t(i,{questions:e.questions,"show-correct-answer":e.showCorrectAnswer,"show-feedback":e.showFeedback},null,8,["questions","show-correct-answer","show-feedback"])])]),e.showQuizInfoPanel?(d(),p("div",Se,[t(G,{class:"question-card"},{default:v(()=>[l("div",Ne,[t(m,{class:"text-h5 q-mt-lg"},{default:v(()=>o[5]||(o[5]=[I("Th\xF4ng tin Quiz")])),_:1})]),t(b,{"quiz-info":e.quizInfo,statistics:""},null,8,["quiz-info"])]),_:1})])):_("",!0)])])}var ol=S(ze,[["render",Le],["__scopeId","data-v-cac37a28"]]);export{ol as default};
